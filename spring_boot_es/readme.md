# spring_boot_es

     springboot整合ElasticSearch

# ElasticSearch学习笔记

     1、一个node节点就是一个es的实例,一个cluster集群由一个或者多个node节点组成,启动一个es实例是,会自动加入相同网络中同一个集群名称的es集群中
     	当有新的节点加入或者移除的时候，集群会自动感知并平衡数据
     2、当用户请求某一个es节点时,es集群会将请求自动转发到数据所在的节点,数据节点处理完数据之后,将数据返回我们请求的节点进行汇总,再返回给用户
     3、分片是es中最小的工作单元,它只保存一个索引中的一部分数据
     4、主分片处理读写请求，副本分片只处理读请求,当索引创建完成时,主分片数量就定了,副本分片数量还可以进行调整
     5、路有文档到分片算法:shard = hash(routing) % number_of_primary_shards, 默认routing为_id字段，但是也可以自定义，这也是为什么主分片数量只能在创建索引时定义且不能修改的原因
     6、新建、索引、删除文档的必要的顺序步骤，假设存在三个节点，两个主分片，每个主分片两个副本分片
     	a、客户端将请求发送给node1
     	b、节点使用_id确定文档属于哪一个分片,将请求转发到分片对应的节点node3
     	c、node3执行请求，成功之后，将请求转发到分片对应的副本分片节点，当所有副本节点报告成功，被请求的node1节点再报告给客户端
     7、可以通给配置repilciation=sync/async配置主分片同步数据到副本分片的行为
     8、检索文档
     	a、客户端发送检索请求到node1
     	b、节点通过路由_id确定文档处于哪个节点,
     