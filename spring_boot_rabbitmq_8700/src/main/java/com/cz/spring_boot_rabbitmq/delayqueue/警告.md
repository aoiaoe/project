
rabbitmq 使用死信交换机和死信队列实现延迟任务会有bug

假设消息1延迟20秒进行消费，消息2延迟10秒进行消费
但是消息1在队首，会先等到判断1过期之后，才会再去判断消息2是否过期


~~~tex
同时发送，消息1(延迟20秒)  消息2(延迟10秒)
预想的消费顺序： 10秒钟后消费消息2   20秒钟后消费消息1
实际的消费顺序： 20秒钟后消费消息1   然后马上消费消息2
~~~

原因： 由于rabbitmq消息过期实现方式的问题，推测是内部是去轮训队首的消息，而非全部消息轮训


